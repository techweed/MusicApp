"use strict";(self.webpackChunkvbi_music_app=self.webpackChunkvbi_music_app||[]).push([[61],{61:function(t,e,l){l.r(e),l.d(e,{default:function(){return f}});var s=l(907);var a=l(181);function n(t){return function(t){if(Array.isArray(t))return(0,s.Z)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||(0,a.Z)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var i=l(885),o=l(791),r=l(427),c=l(184);var d=function(t){var e=t.setShowPlaylist;return(0,c.jsx)("div",{className:"container",children:(0,c.jsxs)("div",{className:"tabs",children:[(0,c.jsx)("input",{type:"radio",id:"radio-1",name:"tabs",onClick:function(){return e(!1)}}),(0,c.jsx)("label",{className:"tab",htmlFor:"radio-1",children:"All Songs"}),(0,c.jsx)("input",{type:"radio",id:"radio-2",name:"tabs",onClick:function(){return e(!0)}}),(0,c.jsx)("label",{className:"tab",htmlFor:"radio-2",children:"Playlists"}),(0,c.jsx)("span",{className:"glider"})]})})};var u=function(t){var e=t.handleSearch,l=(t.setKeyword,t.keyword);return(0,c.jsx)("div",{className:"input-container",children:(0,c.jsx)("input",{type:"text",value:l,onChange:e,placeholder:"Search",className:"search"})})},m=function(t){var e,l=t.song,s=t.albumList,a=t.state,i=t.setState,o=t.selectedPlaylist,r=t.setPlaylist,d=t.playlist;return(0,c.jsxs)("div",{className:"item",onClick:function(){3===a&&(d[o].songs.find((function(t){return t.id===l.id}))?alert("Song already added"):(d[o].songs.push(l),r(d),localStorage.setItem("playlist",JSON.stringify(d)),i(2)))},children:[(0,c.jsx)("div",{className:"cardRight",children:(0,c.jsx)("img",{src:null===l||void 0===l?void 0:l.thumbnailUrl,className:"image",alt:"Logo"})}),(0,c.jsxs)("div",{className:"cardLeft",children:[(0,c.jsx)("div",{className:"cardTitle",children:null===s||void 0===s||null===(e=s.find((function(t){return(null===t||void 0===t?void 0:t.id)===(null===l||void 0===l?void 0:l.albumId)})))||void 0===e?void 0:e.title}),(0,c.jsx)("div",{className:"desc",children:l.title})]}),3!==a&&(0,c.jsx)("div",{className:"cardEnd",onClick:function(t){t.stopPropagation();var e=d[o].songs.filter((function(t){return t.id!==l.id}));d[o].songs=e,r(n(d)),localStorage.setItem("playlist",JSON.stringify(d))},children:"x"})]})},v=function(t){var e,l,s,a,i,o=t.albumList,r=t.state,d=t.setState,u=t.playlist,v=t.setPlaylist,f=t.selectedPlaylist,h=t.setSelectedPlaylist,g=function(t){var e,l=t.item,s=t.index;return(0,c.jsxs)("div",{className:"item",onClick:function(){d(2),h(s)},children:[(0,c.jsxs)("div",{className:"cardLeft",children:[(0,c.jsx)("div",{className:"cardTitle",children:null===l||void 0===l?void 0:l.name}),(0,c.jsx)("div",{className:"desc",children:null===l||void 0===l||null===(e=l.songs)||void 0===e?void 0:e.length}),(0,c.jsx)("div",{className:"desc-i",children:null===l||void 0===l?void 0:l.createdAt})]}),(0,c.jsx)("div",{className:"cardEnd",onClick:function(t){t.stopPropagation();var e=n(u);e.splice(s,1),v(e),localStorage.setItem("playlist",JSON.stringify(e))},children:"x"})]})};return(0,c.jsxs)(c.Fragment,{children:[3!==r&&(0,c.jsx)("button",{className:"float-btn float-bottom",onClick:function(){if(1===r){var t=[].concat(n(u),[{name:"Playlist",songs:[],createdAt:(new Date).toDateString()}]);v(t),localStorage.setItem("playlist",JSON.stringify(t))}else d(3)},children:"+"}),1!==r&&(0,c.jsx)("button",{className:"float-btn float-top",onClick:function(){2===r?(h(null),d(1)):d(2)},children:"Back"}),2===r&&(0,c.jsx)("button",{className:"float-btn float-right",onClick:function(){var t=u[f].songs.sort((function(t,e){return.5-Math.random()}));u[f].songs=t,v(n(u))},children:"Shuffle"}),1!==r&&(0,c.jsxs)("div",{className:"playlistTitle",children:[3===r&&"Add songs to ","".concat(null===(e=u[f])||void 0===e?void 0:e.name," (").concat(null===(l=u[f])||void 0===l||null===(s=l.songs)||void 0===s?void 0:s.length,")")]}),1===r&&(null===u||void 0===u?void 0:u.map((function(t,e){return(0,c.jsx)(g,{item:t,index:e},null===t||void 0===t?void 0:t.createdAt)}))),2===r&&(null===u||void 0===u||null===(a=u[f])||void 0===a||null===(i=a.songs)||void 0===i?void 0:i.map((function(t){return(0,c.jsx)(m,{song:t,albumList:o,playlist:u,setPlaylist:v,selectedPlaylist:f},t.id)})))]})},f=function(){var t=(0,o.useState)(),e=(0,i.Z)(t,2),l=e[0],s=e[1],a=(0,o.useState)(),f=(0,i.Z)(a,2),h=f[0],g=f[1],y=(0,o.useState)(),p=(0,i.Z)(y,2),j=p[0],x=p[1],S=(0,o.useState)(!1),b=(0,i.Z)(S,2),N=b[0],P=b[1],k=(0,o.useState)(""),C=(0,i.Z)(k,2),I=C[0],Z=C[1],w=(0,o.useState)(1),J=(0,i.Z)(w,2),L=J[0],O=J[1],A=(0,o.useState)(JSON.parse(localStorage.getItem("playlist"))||[]),F=(0,i.Z)(A,2),E=F[0],T=F[1],_=(0,o.useState)(null),B=(0,i.Z)(_,2),D=B[0],K=B[1];return(0,o.useEffect)((function(){var t=JSON.parse(localStorage.getItem("songs")),e=JSON.parse(localStorage.getItem("albums"));t&&e?(s(t),g(t),x(e)):Promise.all([fetch("https://jsonplaceholder.typicode.com/photos").then((function(t){return t.json()})),fetch(" https://jsonplaceholder.typicode.com/albums").then((function(t){return t.json()}))]).then((function(t){var e=(0,i.Z)(t,2),l=e[0],a=e[1];s(l),x(a),localStorage.setItem("songs",JSON.stringify(l)),localStorage.setItem("albums",JSON.stringify(a))}))}),[]),(0,c.jsx)("div",{className:"homebody",children:null!==l&&void 0!==l&&l.length?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(d,{setShowPlaylist:P}),(0,c.jsxs)("div",{className:"ListBody",children:[N&&(0,c.jsx)(v,{albumList:j,state:L,setState:O,playlist:E,setPlaylist:T,selectedPlaylist:D,setSelectedPlaylist:K}),(!N||3===L)&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(u,{handleSearch:function(t){Z(t.target.value);var e=l.filter((function(e){return e.title.includes(t.target.value)}));g(n(e))},keyword:I,setKeyword:Z}),null!==h&&void 0!==h&&h.length?h.map((function(t){return(0,c.jsx)(m,{song:t,albumList:j,state:L,setState:O,selectedPlaylist:D,setPlaylist:T,playlist:E},t.id)})):(0,c.jsx)("div",{children:"No Results"})]})]})]}):(0,c.jsx)(r.ZP,{})})}}}]);
//# sourceMappingURL=61.f2237b3e.chunk.js.map