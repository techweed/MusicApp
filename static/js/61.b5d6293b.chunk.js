"use strict";(self.webpackChunkvbi_music_app=self.webpackChunkvbi_music_app||[]).push([[61],{61:function(t,e,n){n.r(e),n.d(e,{default:function(){return f}});var s=n(885),i=n(791),l=n(427),a=n(184);var o=function(t){var e=t.setShowPlaylist;return(0,a.jsx)("div",{className:"container",children:(0,a.jsxs)("div",{className:"tabs",children:[(0,a.jsx)("input",{type:"radio",id:"radio-1",name:"tabs",onClick:function(){return e(!1)}}),(0,a.jsx)("label",{className:"tab",htmlFor:"radio-1",children:"All Songs"}),(0,a.jsx)("input",{type:"radio",id:"radio-2",name:"tabs",onClick:function(){return e(!0)}}),(0,a.jsx)("label",{className:"tab",htmlFor:"radio-2",children:"Playlists"}),(0,a.jsx)("span",{className:"glider"})]})})};var r=function(){return(0,a.jsx)("div",{className:"input-container",children:(0,a.jsx)("input",{type:"text",placeholder:"Search",className:"search"})})},c=n(907);var d=n(181);function u(t){return function(t){if(Array.isArray(t))return(0,c.Z)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||(0,d.Z)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var m=function(t){var e,n=t.song,s=t.albumList,i=t.state,l=t.setState,o=t.selectedPlaylist,r=t.setPlaylist,c=t.playlist;return(0,a.jsxs)("div",{className:"item",onClick:function(){3===i&&(c[o].songs.find((function(t){return t.id===n.id}))?alert("Song already added"):(c[o].songs.push(n),r(c),localStorage.setItem("playlist",JSON.stringify(c)),l(2)))},children:[(0,a.jsx)("div",{className:"cardRight",children:(0,a.jsx)("img",{src:null===n||void 0===n?void 0:n.thumbnailUrl,className:"image",alt:"Logo"})}),(0,a.jsxs)("div",{className:"cardLeft",children:[(0,a.jsx)("div",{className:"cardTitle",children:null===s||void 0===s||null===(e=s.find((function(t){return(null===t||void 0===t?void 0:t.id)===(null===n||void 0===n?void 0:n.albumId)})))||void 0===e?void 0:e.title}),(0,a.jsx)("div",{className:"desc",children:n.title})]})]})},v=function(t){var e,n,l,o=t.albumList,c=t.songList,d=(0,i.useState)(JSON.parse(localStorage.getItem("playlist"))||[]),v=(0,s.Z)(d,2),f=v[0],h=v[1],g=(0,i.useState)(null),j=(0,s.Z)(g,2),x=j[0],p=j[1],b=(0,i.useState)(1),y=(0,s.Z)(b,2),N=y[0],S=y[1],k=function(t){var e,n=t.item,s=t.index;return(0,a.jsxs)("div",{className:"item",onClick:function(){S(2),p(s)},children:[(0,a.jsxs)("div",{className:"cardLeft",children:[(0,a.jsx)("div",{className:"cardTitle",children:null===n||void 0===n?void 0:n.name}),(0,a.jsx)("div",{className:"desc",children:null===n||void 0===n||null===(e=n.songs)||void 0===e?void 0:e.length}),(0,a.jsx)("div",{className:"desc-i",children:null===n||void 0===n?void 0:n.createdAt})]}),(0,a.jsx)("div",{className:"cardEnd",children:"x"})]})};return(0,a.jsxs)(a.Fragment,{children:[3!==N&&(0,a.jsx)("button",{className:"float-btn float-bottom",onClick:function(){if(1===N){var t=[].concat(u(f),[{name:"Playlist",songs:[],createdAt:(new Date).toDateString()}]);h(t),localStorage.setItem("playlist",JSON.stringify(t))}else S(3)},children:"+"}),1!==N&&(0,a.jsx)("button",{className:"float-btn float-top",onClick:function(){2===N?(p(null),S(1)):S(2)},children:"Back"}),2===N&&(0,a.jsx)("button",{className:"float-btn float-right",onClick:function(){var t=f[x].songs.sort((function(t,e){return.5-Math.random()}));f[x].songs=t,h(u(f))},children:"Shuffle"}),1!==N&&(0,a.jsx)("div",{className:"playlistTitle",children:"".concat(f[x].name," (").concat(null===(e=f[x].songs)||void 0===e?void 0:e.length,")")}),1===N&&(null===f||void 0===f?void 0:f.map((function(t,e){return(0,a.jsx)(k,{item:t,index:e},null===t||void 0===t?void 0:t.createdAt)}))),2===N&&(null===f||void 0===f||null===(n=f[x])||void 0===n||null===(l=n.songs)||void 0===l?void 0:l.map((function(t){return(0,a.jsx)(m,{song:t,albumList:o},t.id)}))),3===N&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r,{}),null===c||void 0===c?void 0:c.map((function(t){return(0,a.jsx)(m,{song:t,albumList:o,state:N,setState:S,selectedPlaylist:x,setPlaylist:h,playlist:f},t.id)}))]})]})},f=function(){var t=(0,i.useState)(),e=(0,s.Z)(t,2),n=e[0],c=e[1],d=(0,i.useState)(),u=(0,s.Z)(d,2),f=u[0],h=u[1],g=(0,i.useState)(!1),j=(0,s.Z)(g,2),x=j[0],p=j[1];return(0,i.useEffect)((function(){var t=JSON.parse(localStorage.getItem("songs")),e=JSON.parse(localStorage.getItem("albums"));t&&e?(c(t),h(e)):Promise.all([fetch("https://jsonplaceholder.typicode.com/photos").then((function(t){return t.json()})),fetch(" https://jsonplaceholder.typicode.com/albums").then((function(t){return t.json()}))]).then((function(t){var e=(0,s.Z)(t,2),n=e[0],i=e[1];c(n),h(i),localStorage.setItem("songs",JSON.stringify(n)),localStorage.setItem("albums",JSON.stringify(i))})).catch((function(t){console.log(t)}))}),[]),(0,a.jsxs)("div",{className:"homebody",children:[(0,a.jsx)("div",{children:"Hello"}),n?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o,{setShowPlaylist:p}),(0,a.jsx)("div",{className:"ListBody",children:x?(0,a.jsx)(v,{albumList:f,songList:n}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r,{}),n.map((function(t){return(0,a.jsx)(m,{song:t,albumList:f},t.id)}))]})})]}):(0,a.jsx)(l.ZP,{})]})}}}]);
//# sourceMappingURL=61.b5d6293b.chunk.js.map