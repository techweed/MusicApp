"use strict";(self.webpackChunkvbi_music_app=self.webpackChunkvbi_music_app||[]).push([[61],{61:function(t,e,l){l.r(e),l.d(e,{default:function(){return h}});var s=l(907);var n=l(181);function a(t){return function(t){if(Array.isArray(t))return(0,s.Z)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||(0,n.Z)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var i=l(885),o=l(791),r=l(427),c=l(184);var d=function(t){var e=t.setShowPlaylist;return(0,c.jsx)("div",{className:"container",children:(0,c.jsxs)("div",{className:"tabs",children:[(0,c.jsx)("input",{type:"radio",id:"radio-1",name:"tabs",onClick:function(){return e(!1)}}),(0,c.jsx)("label",{className:"tab",htmlFor:"radio-1",children:"All Songs"}),(0,c.jsx)("input",{type:"radio",id:"radio-2",name:"tabs",onClick:function(){return e(!0)}}),(0,c.jsx)("label",{className:"tab",htmlFor:"radio-2",children:"Playlists"}),(0,c.jsx)("span",{className:"glider"})]})})};var u=function(t){var e=t.handleSearch,l=(t.setKeyword,t.keyword);return(0,c.jsx)("div",{className:"input-container",children:(0,c.jsx)("input",{type:"text",value:l,onChange:e,placeholder:"Search",className:"search"})})},m=function(t){var e,l=t.song,s=t.albumList,n=t.state,i=t.setState,o=t.selectedPlaylist,r=t.setPlaylist,d=t.playlist;return(0,c.jsxs)("div",{className:"item",onClick:function(){3===n&&(d[o].songs.find((function(t){return t.id===l.id}))?alert("Song already added"):(d[o].songs.push(l),r(d),localStorage.setItem("playlist",JSON.stringify(d)),i(2)))},children:[(0,c.jsx)("div",{className:"cardRight",children:(0,c.jsx)("img",{src:null===l||void 0===l?void 0:l.thumbnailUrl,className:"image",alt:"Logo"})}),(0,c.jsxs)("div",{className:"cardLeft",children:[(0,c.jsx)("div",{className:"cardTitle",children:null===s||void 0===s||null===(e=s.find((function(t){return(null===t||void 0===t?void 0:t.id)===(null===l||void 0===l?void 0:l.albumId)})))||void 0===e?void 0:e.title}),(0,c.jsx)("div",{className:"desc",children:l.title})]}),2===n&&(0,c.jsx)("div",{className:"cardEnd",onClick:function(t){t.stopPropagation();var e=d[o].songs.filter((function(t){return t.id!==l.id}));d[o].songs=e,r(a(d)),localStorage.setItem("playlist",JSON.stringify(d))},children:"x"})]})},v=function(t){var e,l,s,n,i,o,r=t.albumList,d=t.state,u=t.setState,v=t.playlist,h=t.setPlaylist,f=t.selectedPlaylist,g=t.setSelectedPlaylist,y=function(t){var e,l=t.item,s=t.index;return(0,c.jsxs)("div",{className:"item",onClick:function(){u(2),g(s)},children:[(0,c.jsxs)("div",{className:"cardLeft",children:[(0,c.jsx)("div",{className:"cardTitle",children:"".concat(null===l||void 0===l?void 0:l.name," (").concat(null===l||void 0===l||null===(e=l.songs)||void 0===e?void 0:e.length,")")}),(0,c.jsx)("div",{className:"desc-i",children:null===l||void 0===l?void 0:l.createdAt})]}),(0,c.jsx)("div",{className:"cardEnd",onClick:function(t){t.stopPropagation();var e=a(v);e.splice(s,1),h(e),localStorage.setItem("playlist",JSON.stringify(e))},children:"x"})]})};return(0,c.jsxs)(c.Fragment,{children:[3!==d&&(0,c.jsx)("button",{className:"float-btn float-bottom",onClick:function(){if(1===d){var t=[].concat(a(v),[{name:"Playlist",songs:[],createdAt:(new Date).toDateString()}]);h(t),localStorage.setItem("playlist",JSON.stringify(t))}else u(3)},children:"+"}),1!==d&&(0,c.jsx)("button",{className:"float-btn float-top",onClick:function(){2===d?(g(null),u(1)):u(2)},children:"Back"}),2===d&&(0,c.jsx)("button",{className:"float-btn float-right",onClick:function(){var t=v[f].songs.sort((function(t,e){return.5-Math.random()}));v[f].songs=t,h(a(v))},children:"Shuffle"}),1!==d&&(0,c.jsxs)("div",{className:"playlistTitle",children:[3===d&&"Add songs to ","".concat(null===(e=v[f])||void 0===e?void 0:e.name," (").concat(null===(l=v[f])||void 0===l||null===(s=l.songs)||void 0===s?void 0:s.length,")")]}),1===d&&(v.length?null===v||void 0===v?void 0:v.map((function(t,e){return(0,c.jsx)(y,{item:t,index:e},null===t||void 0===t?void 0:t.createdAt)})):(0,c.jsx)("div",{children:"Create a playlist!"})),2===d&&(null!==v&&void 0!==v&&null!==(n=v[f])&&void 0!==n&&n.songs.length?null===v||void 0===v||null===(i=v[f])||void 0===i||null===(o=i.songs)||void 0===o?void 0:o.map((function(t){return(0,c.jsx)(m,{song:t,albumList:r,state:d,playlist:v,setPlaylist:h,selectedPlaylist:f},t.id)})):(0,c.jsx)("div",{children:"Add a song to the list!"}))]})},h=function(){var t=(0,o.useState)(),e=(0,i.Z)(t,2),l=e[0],s=e[1],n=(0,o.useState)(),h=(0,i.Z)(n,2),f=h[0],g=h[1],y=(0,o.useState)(),p=(0,i.Z)(y,2),j=p[0],x=p[1],S=(0,o.useState)(!1),b=(0,i.Z)(S,2),N=b[0],P=b[1],k=(0,o.useState)(""),C=(0,i.Z)(k,2),I=C[0],Z=C[1],w=(0,o.useState)(1),A=(0,i.Z)(w,2),J=A[0],L=A[1],O=(0,o.useState)(JSON.parse(localStorage.getItem("playlist"))||[]),F=(0,i.Z)(O,2),E=F[0],T=F[1],_=(0,o.useState)(null),B=(0,i.Z)(_,2),D=B[0],K=B[1];return(0,o.useEffect)((function(){var t=JSON.parse(localStorage.getItem("songs")),e=JSON.parse(localStorage.getItem("albums"));t&&e?(s(t),g(t),x(e)):Promise.all([fetch("https://jsonplaceholder.typicode.com/photos").then((function(t){return t.json()})),fetch(" https://jsonplaceholder.typicode.com/albums").then((function(t){return t.json()}))]).then((function(t){var e=(0,i.Z)(t,2),l=e[0],n=e[1];s(l),x(n),localStorage.setItem("songs",JSON.stringify(l)),localStorage.setItem("albums",JSON.stringify(n))}))}),[]),(0,c.jsx)("div",{className:"homebody",children:null!==l&&void 0!==l&&l.length?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(d,{setShowPlaylist:P}),(0,c.jsxs)("div",{className:"ListBody",children:[N&&(0,c.jsx)(v,{albumList:j,state:J,setState:L,playlist:E,setPlaylist:T,selectedPlaylist:D,setSelectedPlaylist:K}),(!N||3===J)&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(u,{handleSearch:function(t){Z(t.target.value);var e=l.filter((function(e){return e.title.includes(t.target.value)}));g(a(e))},keyword:I,setKeyword:Z}),null!==f&&void 0!==f&&f.length?f.map((function(t){return(0,c.jsx)(m,{song:t,albumList:j,state:J,setState:L,selectedPlaylist:D,setPlaylist:T,playlist:E},t.id)})):(0,c.jsx)("div",{children:"No Results"})]})]})]}):(0,c.jsx)(r.ZP,{})})}}}]);
//# sourceMappingURL=61.6f3be35a.chunk.js.map